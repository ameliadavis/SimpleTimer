self.System=self.System||(()=>{const e={},t={},s=e=>e.replace(/^.\/(\w+)-[a-f0-9]{8,}.js$/,"./$1.js"),n={register(o,a){const r=s(`./${((document.currentScript||{}).src||"").split("?").shift().split("/").pop()}`),i={},c=a((e,t)=>t?i[e]=t:Object.assign(i,e),n);e[r]=Promise.all(o.map((e,t)=>n.import(s(e)).then(c.setters[t]))).then(()=>(c.execute(),i)).catch(e=>{throw e.message=`evaluating module ${r}: ${e.message}`,e}),t[r]&&(t[r](e[r]),delete t[r])},import:s=>e[s]||(e[s]=new Promise((e,n)=>{const o=setTimeout(()=>{n(new Error(`could not resolve ${s}`))},1e4);t[s]=t=>{clearTimeout(o),e(t)}}))};return n})(),System.register(["./frameworks.js"],(function(e,t){"use strict";var s,n,o,a,r,i,c,l,u,d,m,p,f,g,j,h,b,y,L,w,v,T,E,k;return{setters:[function(e){s=e.l,n=e.a,o=e.k,a=e.I,r=e.w,i=e.u,c=e.i,l=e.x,u=e.ax,d=e.d,m=e.q,p=e.m,f=e.s,g=e.S,j=e.az,h=e.L,b=e.W,y=e.aW,L=e.be,w=e.aJ,v=e.K,T=e.n,E=e.aY,k=e.P}],execute:function(){function e(e,t){for(const s of document.querySelectorAll(".js-setting-toggle .js-status-indicator"))s.classList.remove("status-indicator-success","status-indicator-loading","status-indicator-failed");e.classList.add(t)}async function t(e){if(!e)return;const t=e.getAttribute("data-url");if(!t)return;let s;try{s=await f(document,t),e.innerHTML="",e.append(s)}catch(n){window.location.reload()}}function H(e,t){const s=n(t,".js-repo-access-error");s.textContent=e,s.classList.remove("d-none")}function M(){for(const e of document.querySelectorAll(".js-repo-access-error"))e.textContent="",e.classList.add("d-none")}function S(e){const t=e.querySelectorAll(".js-repo-access-entry").length;e.classList.toggle("is-empty",0===t);const s=e.querySelector(".js-collab-limit");if(s){const o=parseInt(s.getAttribute("data-collab-limit"),10),a=n(e,".js-over-limit",HTMLElement),r=n(e,".js-under-limit",HTMLElement);a.classList.toggle("d-none",t<o),r.classList.toggle("d-none",t>=o)}}async function q(e,t){M();const s=(await t.json()).json;let o;const r=p(e,".js-repo-access-group");o="collaborators"===r.id?r.querySelector(".js-repo-access-list-invites"):r.querySelector(".js-repo-access-list");const i=e.querySelector(".js-add-repo-access-field");if(i instanceof HTMLInputElement){const e=i.value;i.value="","teams"===r.id&&function(e){const t=document.querySelector(".js-repo-access-team-select");if(t){let s=0;for(const n of t.querySelectorAll(".js-repo-access-team-select-option"))e===n.getAttribute("data-team-id")&&(n.hidden=!0),n.hidden||s++;0===s&&p(t,".js-repo-access-group").classList.add("no-form")}}(e)}if(s.error)return s.error.requires_license?void g({content:j(document,s.html)}):void H(s.error,r);if(function(){const e=document.getElementById("collaborators");e&&(n(e,".js-add-new-collab",HTMLButtonElement).disabled=!0)}(),function(){const e=document.querySelector("#teams .js-add-new-collab");e instanceof HTMLButtonElement&&(e.disabled=!0)}(),I(),o){o.insertAdjacentHTML("beforeend",s.html);const e=a(o,".js-repo-access-entry");n(e[e.length-1],"a").focus()}if(S(r),s.seats||0===s.seats){const e=1===s.seats?"seat":"seats",t=document.getElementById("available-seats");t&&(t.innerHTML=`${s.seats} ${e}`)}}s(".js-email-global-unsubscribe-form",(function(e){n(e,".js-email-global-unsubscribe-submit",HTMLInputElement).disabled=!0})),o("change",".js-email-global-unsubscribe-form",(function(e){const t=e.currentTarget,s=n(t,".js-email-global-unsubscribe-submit",HTMLInputElement),o=a(t,".js-email-global-unsubscribe",HTMLInputElement),r=Array.from(o).some(e=>e.checked!==e.defaultChecked);s.disabled=!r})),r(".js-email-unsubscribe-form",(async function(e,t){await t.text();for(const s of document.querySelectorAll(".js-email-unsubscribe-message"))s.hidden=!s.hidden})),i(".js-key-link-input",c((async function(e){const t=e.target;if(!(t instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/settings/key-links.js:17");const s=t.form;if(!(s instanceof HTMLFormElement))throw new Error("invariant: app/assets/modules/github/settings/key-links.js:19");const o=a(s,".js-key-link-input",HTMLInputElement),r=new FormData;for(const n of o)r.append(n.name,n.value);const i=n(s,".js-key-link-check",HTMLElement),c=function(e){const t=e.getAttribute("src");if(!t)return"";const s=document.createElement("a");return s.href=t,s.href}(i);try{const e=await l(u(c,{method:"POST",body:r}));i.innerHTML=e,i.hidden=!1}catch(d){i.hidden=!0}}),300)),r(".js-setting-toggle",(async function(t,s){const o=n(t,".js-status-indicator");e(o,"status-indicator-loading");try{await s.text(),e(o,"status-indicator-success")}catch(a){e(o,"status-indicator-failed")}})),o("change",".js-toggle-email-settings input",(function(){const e=n(document,".js-notification-emails"),t=document.querySelector(".js-toggle-email-settings input:checked");e.classList.toggle("d-none",!t)})),o("change",".js-toggle-ci-failures-only-setting input",(function(){const e=!!document.querySelector(".js-toggle-ci-failures-only-setting input:checked"),t=n(document,".js-ci-failures-only-settings input",HTMLInputElement),s=t.closest("label");s&&s.classList.toggle("text-gray-light",!e),e||(t.checked=!1),t.disabled=!e})),r(".js-revoke-access-form",(async function(e,t){await t.html();const s=d(e,"data-id"),o=d(e,"data-type-name"),a=n(document,`.js-revoke-item[data-type='${o}'][data-id='${s}']`);a.remove(),a.classList.contains("new-token")&&n(document,".js-flash-new-token").remove()})),o("click",".js-delete-oauth-application-image",(function(){const e=n(document,".js-delete-oauth-application-image-form",HTMLFormElement);m(e)})),o("click",".js-new-callback",(function(e){e.preventDefault();const t=e.currentTarget,s=p(t,".js-callback-urls"),o=n(s,".js-callback-url").cloneNode(!0);if(!(o instanceof HTMLElement))return;o.classList.remove("is-default-callback"),n(o,"input",HTMLInputElement).value="",s.classList.add("has-many");const a=t.parentNode;if(!(a instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/settings/oauth-apps.js:45");a instanceof HTMLElement&&a.insertBefore(o,t)})),o("click",".js-delete-callback",(function(e){e.preventDefault();const t=e.currentTarget;p(t,".js-callback-url").remove();const s=p(t,".js-callback-urls");a(s,".js-callback-url",HTMLElement).length<=1&&s.classList.remove("has-many")})),o("click",".js-oauth-application-whitelist .js-deny-this-request",(function(e){const t=e.currentTarget,s=t.nextElementSibling;if(!(s instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/settings/oauth-apps.js:68");s instanceof HTMLInputElement&&(s.value="denied",m(p(t,".js-org-application-access-form",HTMLFormElement)))})),o("click",".js-generate-integration-key",(function(){const e=n(document,".js-integration-key-management-wrapper");e.classList.add("downloading"),e.classList.contains("js-integration-key-multi")&&(e.classList.add("has-keys"),setTimeout((function(){const e=n(document,".js-integration-keys-container",HTMLElement);e&&t(e)}),1e3))})),r(".js-remove-integration-key",(async function(e,s){try{await s.text()}catch(r){if(!r.response)throw r;p(e,"details").removeAttribute("open");const t=n(document,".js-integration-key-management-wrapper"),s=n(t,".js-error-container"),o=n(s,".js-error-message");switch(r.response.status){case 500:o.textContent="Oops, something went wrong.";break;case 404:o.textContent="Oops, that key could not be found.";break;default:o.textContent=r.response.json.message}return void t.classList.add("error")}const o=d(e,"data-key-id"),a=document.getElementById(o);if(a){const e=p(a,".js-integration-keys-container",HTMLElement);e&&t(e)}})),o("click",".js-error-dismiss",(function(){const e=n(document,".js-integration-keys-container",HTMLElement);e&&t(e)})),o("change",".js-checkbox-scope",(function(e){const t=e.currentTarget;if(!(t instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/settings/oauth-apps.js:158");if(!(t instanceof HTMLInputElement))return;const s=p(t,".js-check-scope-container"),n=a(s,".js-checkbox-scope",HTMLInputElement);for(const o of n)o!==t&&(o.checked=t.checked,o.disabled=t.checked)})),o("change","[data-check-related-scopes]",(function(e){const t=e.currentTarget;if(!(t instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/settings/oauth-apps.js:175");if(!(t instanceof HTMLInputElement))return;const s=d(t,"data-check-related-scopes").split(" ");for(const n of s){const e=a(document,`[data-scope-for="${n}"] .js-checkbox-scope`,HTMLInputElement);for(const s of e)s.checked=t.checked,s.value!==n&&(s.disabled=t.checked)}}));const I=()=>{const e=document.querySelector(".js-repo-filled-seats"),t=document.querySelector(".js-repo-access-progress");if(!e||!t)return;const s=e.getAttribute("data-filled-seats"),n=e.getAttribute("data-seats");if(!s||!n)return;const o=parseInt(s)+1,a=parseFloat(n);e.textContent=o.toString(),e.setAttribute("data-filled-seats",o.toString()),t.style.width=`${o/a*100}%`};function A(e){for(const t of e)t.hidden=!t.hidden}function x(e){for(const t of e){t.disabled=!1,p(t,".js-role-checkbox").classList.remove("text-gray-light")}}function $(e,t){e&&(e.hidden=t)}function C(e){const t=n(e,".js-authorized-pushers");if(!t.getAttribute("data-limit"))return;const s=parseInt(t.getAttribute("data-limit")||""),o=t.querySelectorAll(".js-authorized-user-or-team").length;t.classList.toggle("at-limit",o>=s)}async function F(e){const t=d(e,"data-actions-list-runners-url"),s=n(document,"#js-actions-runners-list");try{const e=await f(document,t);s.innerHTML="",s.append(e)}catch(o){window.location.reload()}}function z(){return n(document,".js-add-u2f-registration-form",HTMLFormElement)}o("details-menu-selected",".js-repo-access-team-select-menu",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/settings/repository-collabs.js:188");const t=e.detail.relatedTarget,s=t.getAttribute("data-team-id")||"",o=n(p(t,".js-repo-access-group"),".js-add-repo-access-field",HTMLInputElement);if(o.value=s,!o.form)throw new Error("invariant: app/assets/modules/github/settings/repository-collabs.js:193");m(o.form)}),{capture:!0}),r(".js-add-repo-access-form-with-license",(async function(e,t){const s=document.querySelector('.js-add-repo-access-form[data-for="collaborators"]');s&&q(s,t)})),r(".js-add-repo-access-form",q),r(".js-remove-repo-access-form",(async function(e,t){if(e.hasAttribute("data-skip-remote"))return;try{await t.text()}catch(o){return void H(e.getAttribute("data-error-message")||"",p(e,".js-repo-access-group"))}M();const s=p(e,".js-repo-access-entry"),n=p(e,".js-repo-access-group");"teams"===n.id&&function(e){const t=document.querySelector(".js-repo-access-team-select");if(t){const s=t.querySelector(`[data-team-id='${e}']`);s&&(s.hidden=!1),p(t,".js-repo-access-group").classList.remove("no-form")}}(s.getAttribute("data-team-id")||""),s.remove(),S(n)})),o("combobox-commit",".js-repo-add-access-search",(function(e){const t=p(e.target,".js-repo-add-access-search"),s=p(e.target,".js-autocomplete-item");n(t,".js-selected-member-id").textContent=e.target.getAttribute("data-autocomplete-label")||"selection";const o=n(t,".js-selected-member-badge"),r=n(s,".js-selection-badge");o.innerHTML=r.innerHTML,A(a(t,".js-repo-add-access-search-selected, .js-repo-add-access-search-selection"));const i=t.querySelector(".js-base-role-badge");$(i,!0);const c=s.getAttribute("data-type"),l=s.hasAttribute("data-admin"),u=a(t,l?"[data-disable-org-admin]":"[data-disable-org-role]",HTMLInputElement);if(x(a(t,'input[name="role"]',HTMLInputElement)),"org-member"===c){$(i,!1);for(const e of u){e.disabled=!0,p(e,".js-role-checkbox").classList.add("text-gray-light")}}})),o("click",".js-cancel-selection",(function(e){const t=p(e.target,".js-repo-add-access-search");n(t,".js-repo-add-access-search-input",HTMLInputElement).value="",x(a(t,'input[name="role"]',HTMLInputElement)),A(a(t,".js-repo-add-access-search-selected, .js-repo-add-access-search-selection")),$(t.querySelector(".js-base-role-badge"),!0)})),o("details-dialog-close",".js-add-access-form",(function({currentTarget:e}){const t=n(e,".js-repo-add-access-search-input",HTMLInputElement);t.value="",x(a(t,'input[name="role"]',HTMLInputElement));const s=n(e,".js-repo-add-access-search-selection"),o=n(e,".js-repo-add-access-search-selected");o.hidden||(A([o,s]),$(t.querySelector(".js-base-role-badge"),!0))})),o("change","input.js-repo-data-opt-in",(function({currentTarget:e}){if(!(e instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/settings/repository-options.js:18");if(!(e instanceof HTMLInputElement))return;const t=p(e,".js-repo-data-services"),s=e.checked;for(const n of t.querySelectorAll(".js-repo-data-options"))n.classList.toggle("active",s);for(const n of t.querySelectorAll(".js-repo-data-option"))n.toggleAttribute("disabled",!s),s&&n.removeAttribute("checked")})),o("change",".js-repo-features-form input[type=checkbox]",(function({currentTarget:e}){const t=p(e,".js-repo-option"),s=n(t,".js-status-indicator");s.classList.remove("status-indicator-success","status-indicator-failed"),s.classList.add("status-indicator-loading")})),o("click",".js-used-by-selector-button",(function({currentTarget:e}){const t=p(e,".js-used-by-selector"),s=n(t,".js-status-indicator");s.classList.remove("status-indicator-success","status-indicator-failed"),s.classList.add("status-indicator-loading")})),r(".js-repo-features-form",(async function(e,t){let s;try{s=await t.html()}catch(o){for(const t of a(e,".status-indicator-loading")){t.classList.remove("status-indicator-loading"),t.classList.add("status-indicator-failed");const e=p(t,".js-repo-option"),s=n(e,"input[type=checkbox]",HTMLInputElement);s.checked=!s.checked}return}for(const n of a(e,".status-indicator-loading"))n.classList.remove("status-indicator-loading"),n.classList.add("status-indicator-success");n(document,".js-repo-nav").replaceWith(s.html)})),o("change",".js-repo-pages-visibility-form",(function({currentTarget:e}){const t=n(e,".js-status-indicator");t.classList.remove("status-indicator-success","status-indicator-failed"),t.classList.add("status-indicator-loading")})),r(".js-repo-pages-visibility-form",(async function(e,t){const s=n(e,".js-status-indicator");let o;try{o=await t.html()}catch(a){return s.classList.remove("status-indicator-loading"),s.classList.add("status-indicator-failed"),void e.reset()}s.classList.remove("status-indicator-loading"),s.classList.add("status-indicator-success"),n(document,".js-repo-nav").replaceWith(o.html)})),o("change",".js-merge-features-form input[type=checkbox]",(function({currentTarget:e}){if(!(e instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/settings/repository-options.js:97");if(!(e instanceof HTMLInputElement))return;const t=e.form;if(!t)throw new Error("invariant: app/assets/modules/github/settings/repository-options.js:101");if(!t)return;for(const n of t.querySelectorAll(".errored"))n.classList.remove("errored");const s=p(e,".js-repo-option"),o=n(s,".js-status-indicator");o.classList.remove("status-indicator-success","status-indicator-failed"),o.classList.add("status-indicator-loading")})),r(".js-merge-features-form",(async function(e,t){try{await t.text()}catch(s){const t=s.response&&s.response.text.endsWith("(protected_branch_policy)")?".js-no-merge-commit-warning":".js-select-one-warning";for(const n of e.querySelectorAll(t))n instanceof HTMLElement&&(n.hidden=!1);for(const o of e.querySelectorAll(".status-indicator-loading")){o.classList.remove("status-indicator-loading"),o.classList.add("status-indicator-failed");const e=p(o,".js-repo-option");e.classList.add("errored");const t=n(e,"input[type=checkbox]",HTMLInputElement);t.checked=!t.checked}for(const n of e.querySelectorAll(".status-indicator-success"))n.classList.remove("status-indicator-success");return}for(const n of e.querySelectorAll(".errored"))n.classList.remove("errored");for(const n of e.querySelectorAll(".js-select-one-warning, .js-no-merge-commit-warning"))n instanceof HTMLElement&&(n.hidden=!0);for(const n of e.querySelectorAll(".status-indicator-loading"))n.classList.remove("status-indicator-loading"),n.classList.add("status-indicator-success")})),o("change","input.js-required-status-toggle",(function({currentTarget:e}){if(!(e instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/settings/repository-options.js:169");if(!(e instanceof HTMLInputElement))return;const t=p(e,".js-protected-branch-settings");n(t,".js-required-statuses").classList.toggle("d-none",!e.checked)})),o("change","input.js-required-status-checkbox",(function({currentTarget:e}){if(!(e instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/settings/repository-options.js:178");if(!(e instanceof HTMLInputElement))return;const t=p(e,".js-protected-branches-item");n(t,".js-required-status-badge").classList.toggle("d-none",!e.checked)})),o("change",".js-authorized-branch-pushers-toggle, input.js-authorized-review-dismisser-toggle",(function({currentTarget:e}){if(!(e instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/settings/repository-options.js:190");if(!(e instanceof HTMLInputElement))return;const t=p(e,".js-protected-branch-options"),s=n(t,".js-authorized-pushers");s.classList.toggle("d-none",!e.checked),n(s,".js-add-protected-branch-user-or-team input",HTMLInputElement).focus()})),o("change",".js-protected-branch-include-admin-toggle",(function({currentTarget:e}){const t=p(e,".js-protected-branch-settings").querySelectorAll(".js-protected-branch-admin-permission");for(const s of t)s.classList.toggle("d-none"),s.classList.toggle("active",!s.classList.contains("d-none"))})),o("auto-complete-change",".js-add-protected-branch-user-or-team",(async function({target:e}){if(!(e instanceof h))throw new Error("invariant: app/assets/modules/github/settings/repository-options.js:228");if(!(e instanceof h))return;const t=e.value;if(!t)return;e.value="";const s=p(e,".js-protected-branch-options"),o=n(s,".js-authorized-users-and-teams"),a=o.querySelector(`div[data-user-or-team-name='${t}']`);if(a)return void n(a,".js-protected-branch-pusher").classList.add("user-already-added");const r=d(e,"data-add-url"),i=new URL(r,window.location.origin),c=new URLSearchParams(i.search.slice(1));c.append("item",t),i.search=c.toString(),o.append(await f(document,i.toString())),C(s)})),o("click",".js-remove-authorized-user-or-team",(function({currentTarget:e}){const t=p(e,".js-protected-branch-options");p(e,".js-authorized-user-or-team").remove(),C(t)})),s("#pages-cname-field",{constructor:HTMLInputElement,add(e){b(e,(function(){n(document,".js-pages-cname-save-btn",HTMLButtonElement).disabled=e.value===e.defaultValue}))}}),s(".js-pages-https-status-form",{constructor:HTMLFormElement,add(e){const t=new Request(e.action,{method:e.method,body:new FormData(e)});(async()=>{try{const s=await f(document,t);e.replaceWith(s)}catch(s){if(!s.response||404!==s.response.status)throw s}})()}}),o("change",".js-repo-actions-settings input[type=radio]",(function({currentTarget:e}){if(!(e instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/settings/repository-actions.js:10");if(!(e instanceof HTMLInputElement))return;const t=e.form;if(!t)throw new Error("invariant: app/assets/modules/github/settings/repository-actions.js:14");if(!t)return;for(const n of t.querySelectorAll(".js-actions-status-indicator"))n.classList.remove("status-indicator-success","status-indicator-failed","status-indicator-loading");const s=p(e,".js-actions-option"),o=n(s,".js-actions-status-indicator");o.classList.remove("status-indicator-success","status-indicator-failed"),o.classList.add("status-indicator-loading")})),o("details-dialog-close",".js-repo-actions-add-runner-dialog",(function({currentTarget:e}){if(!(e instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/settings/repository-actions.js:29");e instanceof HTMLElement&&F(e)})),o("details-dialog-close",".js-repo-actions-delete-runner-dialog",(function({currentTarget:e}){if(!(e instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/settings/repository-actions.js:36");e instanceof HTMLElement&&F(e)})),o("details-menu-selected",".js-repo-actions-runners-choose-architecture-menu",(function(e){if(!(e instanceof CustomEvent))throw new Error("invariant: app/assets/modules/github/settings/repository-actions.js:66");const t=e.detail.relatedTarget;if(!(t instanceof HTMLElement))throw new Error("invariant: app/assets/modules/github/settings/repository-actions.js:69");const s=p(t,".js-action-runner-tabpanel"),n=d(t,"data-download-url"),o=d(t,"data-download-filename");for(const r of a(s,".js-action-runner-url"))r.textContent=n;for(const r of a(s,".js-action-runner-filename"))r.textContent=o}),{capture:!0}),r(".js-repo-restore",(async function(e,t){let s;const o=p(e,".js-deleted-repository");try{s=await t.html()}catch(a){throw a}s&&function(e,t){const s=n(e,".js-restore-status");s.innerHTML="",s.append(t.html)}(o,s)})),s(".js-restore-repo-job",(function(e){!function(e){n(e,"form>button",HTMLButtonElement).disabled=!0,n(e,"summary").classList.add("disabled");for(const t of e.querySelectorAll("details"))t.removeAttribute("open")}(p(e,".js-deleted-repository"))})),o("click",".js-disableable-summary.disabled",e=>e.preventDefault()),o("click",".js-repo-team-suggestions-view-all",(async function(e){const t=p(e.currentTarget,"ul"),s=d(e.currentTarget,"data-url"),o=a(document,".js-repo-toggle-team:checked",HTMLInputElement).map(e=>e.value),r=await f(document,s);t.innerHTML="",t.append(r);for(const a of o)n(t,`.js-repo-toggle-team[value="${a}"]`,HTMLInputElement).checked=!0})),i(".js-synced-repo-owner-input",(function(e){const t=e.target;if(!(t instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/settings/repository-settings.js:20");const s=t.getAttribute("data-sync");if(!s)return;const n=document.querySelectorAll(`[data-sync-with="${s}"]`);for(const o of n)o.textContent=t.value})),r(".js-saved-reply-delete",(async function(e,t){await t.text();const s=e.closest(".js-saved-reply-container");if(!s)throw new Error("invariant: app/assets/modules/github/settings/saved-replies.js:6");const n=s.querySelectorAll(".js-saved-reply-list-item").length;s.classList.toggle("has-replies",n>1);const o=e.closest(".js-saved-reply-list-item");if(!o)throw new Error("invariant: app/assets/modules/github/settings/saved-replies.js:10");o.remove()}));const B="data-webauthn-register-request";function D(e){e.webauthn_register_request&&z().setAttribute(B,JSON.stringify(e.webauthn_register_request))}function O(e,t){const s=n(document,".js-new-u2f-registration");s.classList.add("is-showing-error"),s.classList.remove("is-sending");for(const n of s.querySelectorAll(".js-u2f-message"))n.hidden=!0;const o=n(s,e);t&&(o.textContent=t),o.hidden=!1}async function _(e){if(!(await w("high")))throw new Error("sudo failed");const t=n(document,".js-add-u2f-registration-form",HTMLFormElement);v(t,"response").value=JSON.stringify(e);try{const e=await T(t.action,{method:t.method,body:new FormData(t),headers:{accept:"application/json"}}),s=await e.json();D(s),n(document,".js-new-u2f-registration").classList.remove("is-sending","is-active"),n(document,".js-u2f-registration-nickname-field",HTMLInputElement).value="";const o=s.registration;o&&n(document,".js-u2f-registrations").append(j(document,o))}catch(s){if(s.response){const e=await s.response.json();D(e),O(".js-u2f-server-error",e.error)}else O(".js-u2f-network-error")}}async function W(){try{!function(){const e=n(document,".js-new-u2f-registration");e.classList.add("is-sending"),e.classList.remove("is-showing-error")}();const e=JSON.parse(d(z(),B)),t=await L(e);await _(t)}catch(e){!function(e,t){O(t),E.report(e)}(new Error(e),".js-webauthn-registration-error")}}function N(){W()}function P(e,t){n(e,".js-add-new-blocked-user",HTMLButtonElement).disabled=!t}r(".js-u2f-registration-delete",(async function(e,t){const s=p(e,".js-u2f-registration");s.classList.add("is-sending"),D((await t.json()).json),s.remove()})),o("click",".js-add-u2f-registration-link",(function(){const e=n(document,".js-new-u2f-registration");e.classList.add("is-active"),e.classList.remove("is-showing-error"),n(document,".js-u2f-registration-nickname-field",HTMLInputElement).focus()})),o("click",".js-u2f-register-retry",(function(){N()})),o("submit",".js-add-u2f-registration-form",(function(e){e.preventDefault(),N()})),s(".js-u2f-box",(function(e){e.classList.toggle("available",y())})),s(".js-block-users-form",(function(e){P(e,!1)})),r(".js-block-users-form",(async function(e,t){const s=await t.html(),o=n(document,".js-user-block-settings-list"),a=n(o,".js-blocked-list"),r=n(o,".js-user-block-blank-slate");P(e,!1);const i=n(e,".js-add-blocked-user-field",HTMLInputElement);k(i,""),r.hidden=!0,a.hidden=!1,a.prepend(s.html)})),o("auto-complete-change",".js-add-blocked-user-completer",(function({target:e}){if(!(e instanceof h))throw new Error("invariant: app/assets/modules/github/settings/user-blocks.js:45");P(p(e,".js-block-users-form"),!!e.value)})),r(".js-user-sessions-revoke",(async function(e,t){await t.text();const s=p(e,".js-user-sessions-container");if(p(e,".js-user-session").remove(),s){const e=s.querySelectorAll(".js-user-session").length;s.classList.toggle("has-active-sessions",e>0)}})),r(".js-verify-ssh-key",(async function(e,t){await t.html();const s=p(e,"li");n(s,".js-unverified-user-key-notice").remove(),n(s,".js-user-key-icon").classList.remove("unverified-user-key"),e.remove()})),r(".js-leave-collaborated-repo",(async function(e,t){await t.html();const s=d(e,"data-repo-id"),o=d(e,"data-owner-id");n(document,`.js-collab-repo[data-repo-id='${s}']`).remove(),document.querySelector(".js-collab-repo")||(n(document,".js-collaborated-repos-empty").hidden=!1,n(document,".js-collaborated-repos").hidden=!0);const a=document.querySelector(`.js-collab-repo-owner[data-owner-id='${o}']`);a&&(a.querySelector(".js-collab-repo")||a.remove())})),o("change",".js-notification-restrictions-confirmation-needed",(function({currentTarget:e}){if(!(e instanceof HTMLInputElement))throw new Error("invariant: app/assets/modules/github/settings/verified-domains.js:10");n(document,".js-notification-restrictions-confirm-modal").classList.toggle("d-none",!e.checked),n(document,".js-notification-restrictions-save").classList.toggle("d-none",e.checked)}))}}}));
//# sourceMappingURL=settings-bootstrap-415e5ae6.js.map
